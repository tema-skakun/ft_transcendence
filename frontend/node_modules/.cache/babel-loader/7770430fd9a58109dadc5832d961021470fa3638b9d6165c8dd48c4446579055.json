{"ast":null,"code":"var _jsxFileName = \"/Users/linu/Projects/BORIS/frontend/src/components/Content/Chat/joinChannelButton/joinChannelButton.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Form from 'react-bootstrap/Form';\nimport axios from 'axios';\nimport JSCookies from 'js-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst JoinChannelButton = _ref => {\n  _s();\n  let {\n    closeModal,\n    socket\n  } = _ref;\n  const [channels, setChannels] = useState([]);\n  const [selectedChannelIds, setSelectedChannelIds] = useState([]);\n  useEffect(() => {\n    const getChannels = async () => {\n      try {\n        const res = await axios.get(`http://${process.env.REACT_APP_IP_BACKEND}:6969/chat/joinchannels`, {\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${JSCookies.get('accessToken')}`\n          }\n        });\n        setChannels(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getChannels();\n  }, []);\n  async function handleSubmit(e) {\n    e.preventDefault();\n    closeModal();\n  }\n  function handleCheckboxChange(channelId) {\n    setSelectedChannelIds(prevSelectedChannelIds => {\n      if (prevSelectedChannelIds.includes(channelId)) {\n        return prevSelectedChannelIds.filter(prevId => {\n          return channelId !== prevId;\n        });\n      } else {\n        return [...prevSelectedChannelIds, channelId];\n      }\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: \"Join channel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 30\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: [channels.map(channel => /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: channel.id,\n          children: /*#__PURE__*/_jsxDEV(Form.Check, {\n            type: \"radio\",\n            value: selectedChannelIds.includes(channel.id),\n            label: channel.name,\n            onChange: () => handleCheckboxChange(channel.id)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 6\n          }, this)\n        }, channel.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 6\n        }, this)), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [\" \", /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            children: \"Join\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 20\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n_s(JoinChannelButton, \"1FvnUofAWibdcXQuRESMBLJputo=\");\n_c = JoinChannelButton;\nexport default JoinChannelButton;\nvar _c;\n$RefreshReg$(_c, \"JoinChannelButton\");","map":{"version":3,"names":["useEffect","useState","Button","Modal","Form","axios","JSCookies","jsxDEV","_jsxDEV","Fragment","_Fragment","JoinChannelButton","_ref","_s","closeModal","socket","channels","setChannels","selectedChannelIds","setSelectedChannelIds","getChannels","res","get","process","env","REACT_APP_IP_BACKEND","headers","data","err","console","log","handleSubmit","e","preventDefault","handleCheckboxChange","channelId","prevSelectedChannelIds","includes","filter","prevId","children","Header","closeButton","Title","fileName","_jsxFileName","lineNumber","columnNumber","Body","onSubmit","map","channel","Group","controlId","id","Check","type","value","label","name","onChange","Footer","_c","$RefreshReg$"],"sources":["/Users/linu/Projects/BORIS/frontend/src/components/Content/Chat/joinChannelButton/joinChannelButton.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Form from 'react-bootstrap/Form';\nimport axios from 'axios';\nimport JSCookies from 'js-cookie';\n\nconst JoinChannelButton = ({ closeModal, socket }: {closeModal: any, socket: any}) => {\n\tconst [channels, setChannels] = useState<any>([]);\n\tconst [selectedChannelIds, setSelectedChannelIds] = useState<any>([]);\n\n\tuseEffect(() =>{\n\t\tconst getChannels = async ()=>{\n\t\t\ttry {\n\t\t\t\tconst res = await axios.get(`http://${process.env.REACT_APP_IP_BACKEND}:6969/chat/joinchannels`, {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t'Authorization': `Bearer ${JSCookies.get('accessToken')}`,\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tsetChannels(res.data);\n\t\t\t} catch(err) {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t}\n\t\tgetChannels();\n\t}, [])\n\n\tasync function handleSubmit(e: any) {\n\t\te.preventDefault();\n\n\t\tcloseModal();\n\t}\n\n\tfunction handleCheckboxChange(channelId: any) {\n\t\tsetSelectedChannelIds((prevSelectedChannelIds: any) => {\n\t\tif (prevSelectedChannelIds.includes(channelId)) {\n\t\t\treturn prevSelectedChannelIds.filter((prevId: any) => {\n\t\t\t\treturn channelId !== prevId;\n\t\t\t});\n\t\t} else {\n\t\t\treturn [...prevSelectedChannelIds, channelId];\n\t\t}\n\t\t});\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Modal.Header closeButton><Modal.Title>Join channel</Modal.Title></Modal.Header>\n\t\t\t<Modal.Body>\n\t\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t{channels.map((channel: any) => (\n\t\t\t\t\t<Form.Group key={channel.id} controlId={channel.id}>\n\t\t\t\t\t<Form.Check\n\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\tvalue={selectedChannelIds.includes(channel.id)}\n\t\t\t\t\t\tlabel={channel.name}\n\t\t\t\t\t\tonChange={() => handleCheckboxChange(channel.id)}\n\t\t\t\t\t/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t))}\n\t\t\t\t<Modal.Footer> <Button type=\"submit\">Join</Button> </Modal.Footer>\n\t\t\t\t</Form>\n\t\t\t</Modal.Body>\n\t\t</>\n\t);\n};\n\nexport default JoinChannelButton;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}