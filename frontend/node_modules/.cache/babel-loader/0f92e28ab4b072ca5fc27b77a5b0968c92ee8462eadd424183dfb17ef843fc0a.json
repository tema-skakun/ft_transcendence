{"ast":null,"code":"var _jsxFileName = \"/Users/linu/Projects/BORIS/frontend/src/components/Content/Chat/participants/participants.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport './participants.css';\nimport axios from 'axios';\nimport { socket } from '../../../../App';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Participants(_ref) {\n  _s();\n  let {\n    channel,\n    currentUser\n  } = _ref;\n  const [members, setMembers] = useState([]);\n  useEffect(() => {\n    const getChannelUsers = async () => {\n      if (channel) {\n        try {\n          const res = await axios(`http://${process.env.REACT_APP_IP_BACKEND}:6969/chat/channelUsers/` + channel.id);\n          const friend = res.data.find(m => m.intra_id === currentUser.intra_id);\n          const friends = res.data.filter(obj => obj !== friend);\n          setMembers(friends);\n        } catch (err) {\n          console.log('ERROR in conversation: ' + err);\n        }\n      }\n    };\n    getChannelUsers();\n    socket === null || socket === void 0 ? void 0 : socket.on('updateMembers', data => {\n      getChannelUsers();\n    });\n  }, [channel, currentUser]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chatParticipants\",\n    children: members.map(o => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatOnlineParticipants\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chatParticipantsImgContainer\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"chatParticipantsImg\",\n          src: o.picture_url,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"chatParticipantsName\",\n        children: o.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 6\n      }, this)]\n    }, o.intra_id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 3\n  }, this);\n}\n_s(Participants, \"vkicIfJtsxnOItErHE0sT+V21Y0=\");\n_c = Participants;\nvar _c;\n$RefreshReg$(_c, \"Participants\");","map":{"version":3,"names":["useEffect","useState","axios","socket","jsxDEV","_jsxDEV","Participants","_ref","_s","channel","currentUser","members","setMembers","getChannelUsers","res","process","env","REACT_APP_IP_BACKEND","id","friend","data","find","m","intra_id","friends","filter","obj","err","console","log","on","className","children","map","o","src","picture_url","alt","fileName","_jsxFileName","lineNumber","columnNumber","username","_c","$RefreshReg$"],"sources":["/Users/linu/Projects/BORIS/frontend/src/components/Content/Chat/participants/participants.tsx"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport './participants.css'\nimport axios from 'axios';\nimport { socket } from '../../../../App';\n\nexport default function Participants({ channel, currentUser}: {channel: any, currentUser: any}) {\n\tconst[members, setMembers] = useState<any>([])\n\n\tuseEffect(() => {\n\t\t\tconst getChannelUsers = async () => {\n\t\t\t\tif (channel) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst res = await axios(`http://${process.env.REACT_APP_IP_BACKEND}:6969/chat/channelUsers/` + channel.id);\n\t\t\t\t\t\tconst friend = res.data.find((m: any) => m.intra_id === currentUser.intra_id);\n\t\t\t\t\t\tconst friends = res.data.filter((obj: any) => obj !== friend);\n\t\t\t\t\t\tsetMembers(friends);\n\t\t\t\t\t}catch(err) {\n\t\t\t\t\t\tconsole.log('ERROR in conversation: ' + err);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tgetChannelUsers();\n\t\t\tsocket?.on('updateMembers', (data: any) =>{\n\t\t\t\tgetChannelUsers();\n\t\t\t});\n\t\t\n\t}, [channel, currentUser])\n\n\n\n\treturn (\n\t\t<div className='chatParticipants'>\n\t\t\t{members.map((o: any) => (\n\t\t\t\t<div key={o.intra_id} className='chatOnlineParticipants'>\n\t\t\t\t\t<div className=\"chatParticipantsImgContainer\">\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName=\"chatParticipantsImg\" \n\t\t\t\t\t\t\tsrc={o.picture_url} \n\t\t\t\t\t\t\talt=''\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span className='chatParticipantsName'>{o.username}</span>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</div>\n\t)\n}\n  "],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAO,oBAAoB;AAC3B,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzC,eAAe,SAASC,YAAYA,CAAAC,IAAA,EAA4D;EAAAC,EAAA;EAAA,IAA3D;IAAEC,OAAO;IAAEC;EAA6C,CAAC,GAAAH,IAAA;EAC7F,MAAK,CAACI,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAM,EAAE,CAAC;EAE9CD,SAAS,CAAC,MAAM;IACd,MAAMa,eAAe,GAAG,MAAAA,CAAA,KAAY;MACnC,IAAIJ,OAAO,EAAE;QACZ,IAAI;UACH,MAAMK,GAAG,GAAG,MAAMZ,KAAK,CAAE,UAASa,OAAO,CAACC,GAAG,CAACC,oBAAqB,0BAAyB,GAAGR,OAAO,CAACS,EAAE,CAAC;UAC1G,MAAMC,MAAM,GAAGL,GAAG,CAACM,IAAI,CAACC,IAAI,CAAEC,CAAM,IAAKA,CAAC,CAACC,QAAQ,KAAKb,WAAW,CAACa,QAAQ,CAAC;UAC7E,MAAMC,OAAO,GAAGV,GAAG,CAACM,IAAI,CAACK,MAAM,CAAEC,GAAQ,IAAKA,GAAG,KAAKP,MAAM,CAAC;UAC7DP,UAAU,CAACY,OAAO,CAAC;QACpB,CAAC,QAAMG,GAAG,EAAE;UACXC,OAAO,CAACC,GAAG,CAAC,yBAAyB,GAAGF,GAAG,CAAC;QAC7C;MACD;IACD,CAAC;IACDd,eAAe,EAAE;IACjBV,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE2B,EAAE,CAAC,eAAe,EAAGV,IAAS,IAAI;MACzCP,eAAe,EAAE;IAClB,CAAC,CAAC;EAEJ,CAAC,EAAE,CAACJ,OAAO,EAAEC,WAAW,CAAC,CAAC;EAI1B,oBACCL,OAAA;IAAK0B,SAAS,EAAC,kBAAkB;IAAAC,QAAA,EAC/BrB,OAAO,CAACsB,GAAG,CAAEC,CAAM,iBACnB7B,OAAA;MAAsB0B,SAAS,EAAC,wBAAwB;MAAAC,QAAA,gBACvD3B,OAAA;QAAK0B,SAAS,EAAC,8BAA8B;QAAAC,QAAA,eAC5C3B,OAAA;UACC0B,SAAS,EAAC,qBAAqB;UAC/BI,GAAG,EAAED,CAAC,CAACE,WAAY;UACnBC,GAAG,EAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MACL;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACG,eACNpC,OAAA;QAAM0B,SAAS,EAAC,sBAAsB;QAAAC,QAAA,EAAEE,CAAC,CAACQ;MAAQ;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAQ;IAAA,GARjDP,CAAC,CAACX,QAAQ;MAAAe,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAUpB;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACG;AAER;AAACjC,EAAA,CAzCuBF,YAAY;AAAAqC,EAAA,GAAZrC,YAAY;AAAA,IAAAqC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}